# ===================================================================
# RideAndhraBhairava Backend - Environment Variables
# ===================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control
# ===================================================================

# ===================================================================
# SERVER CONFIGURATION
# ===================================================================
PORT=8082
NODE_ENV=development

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL="postgresql://postgres:8520894522@localhost:5432/ride_andhra"

# Connection Pool Settings
DB_POOL_MIN=2          # Minimum connections in pool
DB_POOL_MAX=10         # Maximum connections in pool (adjust based on load)

# SSL Configuration (for production)
# Set to 'false' only if your database doesn't support SSL
DB_SSL_REJECT_UNAUTHORIZED=true

# ===================================================================
# JWT AUTHENTICATION
# ===================================================================
# Secret key for JWT token signing (use a strong random string in production)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ===================================================================
# CORS CONFIGURATION
# ===================================================================
# Comma-separated list of allowed origins for CORS
# Include your frontend URLs (web app, mobile app dev servers)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:19006,http://localhost:8082

# Primary frontend URL (for redirects, emails, etc.)
FRONTEND_URL=http://localhost:19006

# ===================================================================
# RATE LIMITING
# ===================================================================
# Time window in seconds for rate limiting
THROTTLE_TTL=60

# Maximum requests per time window (global)
THROTTLE_LIMIT=100

# Maximum OTP requests per time window (auth endpoints)
AUTH_THROTTLE_LIMIT=5

# ===================================================================
# MSG91 CONFIGURATION (OTP Service)
# ===================================================================
# MSG91 API credentials for OTP verification
MSG91_AUTH_KEY=your-msg91-auth-key
MSG91_TEMPLATE_ID=your-msg91-template-id
MSG91_SENDER_ID=your-sender-id

# ===================================================================
# PAYMENT GATEWAY (PhonePe)
# ===================================================================
# PhonePe payment gateway credentials
PHONEPE_MERCHANT_ID=your-merchant-id
PHONEPE_SALT_KEY=your-salt-key
PHONEPE_SALT_INDEX=1
PHONEPE_REDIRECT_URL=http://localhost:3000/payment/callback

# ===================================================================
# FILE STORAGE (Optional - for driver documents)
# ===================================================================
# AWS S3 or other cloud storage credentials
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=ap-south-1
# AWS_S3_BUCKET=ride-andhra-documents

# ===================================================================
# LOGGING & MONITORING (Optional)
# ===================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=your-sentry-dsn

# ===================================================================
# REDIS (Optional - for caching and WebSocket scaling)
# ===================================================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# ===================================================================
# SECURITY NOTES
# ===================================================================
# 1. Never commit .env file to version control
# 2. Use strong, random values for JWT_SECRET in production
# 3. Restrict ALLOWED_ORIGINS to your actual frontend domains
# 4. Use environment-specific .env files (.env.production, .env.staging)
# 5. Rotate secrets regularly
# 6. Use a secrets management service in production (AWS Secrets Manager, etc.)
